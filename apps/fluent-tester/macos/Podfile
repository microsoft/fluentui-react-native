# Switching between node-modules mode and pnpm mode requires changing how relative paths are handled.

# (pnpm mode) allow modules to resolve correctly in upstream podfiles, comment out for node-modules mode
ENV['REACT_NATIVE_NODE_MODULES_DIR'] = File.join(__dir__, '../node_modules')

# (pnpm mode)
require_relative '../node_modules/react-native-test-app/macos/test_app'
# (node-modules mode)
# require_relative '../../../node_modules/react-native-test-app/macos/test_app'

workspace 'FluentTester.xcworkspace'

# (pnpm mode)
react_native_path = "#{__dir__}/../node_modules/react-native"
# (node-modules mode)
# react_native_path = "#{__dir__}/../../../node_modules/react-native"

use_test_app! do |target|
  target.app do
    platform :osx, '12'
  end
end
