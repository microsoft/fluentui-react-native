parameters:
  relative_directory: ''

steps:
  # Install any pods necessary for the project
  - task: CocoaPods@0
    inputs:
      forceRepoUpdate: true
      projectDirectory: '$(Build.Repository.LocalPath)/apps/${{ parameters.relative_directory }}/src'
    displayName: 'pod install ${{ parameters.relative_directory }}'

  - bash: |
      echo "yarn $platform_directory"
      yarn $platform_directory
    workingDirectory: apps/${{ parameters.relative_directory }}
    displayName: 'yarn ${{ parameters.relative_directory }}'
    env:
      platform_directory: ${{ parameters.relative_directory }}
