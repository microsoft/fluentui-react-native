parameters:
  relative_directory: ''

steps:
  # Install any pods necessary for the project
  - bash: |
      echo "pod install --project-directory=src"
      pod install --project-directory=src
    workingDirectory: apps/${{ parameters.relative_directory }}
    displayName: 'pod install'

  - bash: |
      echo "Pre boot simulator"
      open /Applications/Xcode_13.1.app/Contents/Developer/Applications/Simulator.app/
    workingDirectory: apps/${{ parameters.relative_directory }}
    displayName: 'Boot simulator'

  - bash: |
      echo "yarn ${{ parameters.relative_directory }}"
      yarn ${{ parameters.relative_directory }}
    workingDirectory: apps/${{ parameters.relative_directory }}
    displayName: 'yarn ${{ parameters.relative_directory }}'
    env:
      platform_directory: ${{ parameters.relative_directory }}
